
    <!DOCTYPE html>
    <html>
    <head>
        <title>Backtest Report - demo_backtest</title>
        <style>
            body { font-family: Arial, sans-serif; margin: 40px; }
            .header { text-align: center; margin-bottom: 30px; }
            .metrics { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px; }
            .metric-card { background: #f5f5f5; padding: 15px; border-radius: 8px; text-align: center; }
            .metric-value { font-size: 1.5em; font-weight: bold; color: #333; }
            .metric-label { color: #666; margin-top: 5px; }
            .section { margin-bottom: 40px; }
            .chart { text-align: center; margin: 20px 0; }
            .chart img { max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 4px; }
            .summary-table { width: 100%; border-collapse: collapse; }
            .summary-table th, .summary-table td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
            .summary-table th { background-color: #f2f2f2; }
            .positive { color: green; }
            .negative { color: red; }
        </style>
    </head>
    <body>
        <div class="header">
            <h1>Cointegration Strategy Backtest Report</h1>
            <p>Generated on 2025-06-05 19:28:10</p>
        </div>
        
        <div class="section">
            <h2>Key Performance Metrics</h2>
            <div class="metrics">
                <div class="metric-card">
                    <div class="metric-value negative">
                        -5.79%
                    </div>
                    <div class="metric-label">Total Return</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">
                        -1.96
                    </div>
                    <div class="metric-label">Sharpe Ratio</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value negative">
                        -8.96%
                    </div>
                    <div class="metric-label">Max Drawdown</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">
                        46.0%
                    </div>
                    <div class="metric-label">Win Rate</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">
                        150
                    </div>
                    <div class="metric-label">Total Trades</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value">
                        0.76
                    </div>
                    <div class="metric-label">Profit Factor</div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2>Equity Curve & Drawdown</h2>
            <div class="chart">
                <img src="demo_backtest_equity.png" alt="Equity Curve">
            </div>
        </div>
        
        <div class="section">
            <h2>Trade Analysis</h2>
            <div class="chart">
                <img src="demo_backtest_trades.png" alt="Trade Analysis">
            </div>
        </div>
        
        <div class="section">
            <h2>Detailed Metrics</h2>
            <table class="summary-table">
                <tr><th>Metric</th><th>Value</th></tr>
                <tr><td>Total Trades</td><td>150</td></tr>
                <tr><td>Win Rate</td><td>46.00%</td></tr>
                <tr><td>Total PnL</td><td class="negative">$-579.31</td></tr>
                <tr><td>Total Return</td><td class="negative">-5.79%</td></tr>
                <tr><td>Average Trade PnL</td><td class="negative">$-3.86</td></tr>
                <tr><td>Average Win</td><td class="positive">$26.29</td></tr>
                <tr><td>Average Loss</td><td class="negative">$-29.55</td></tr>
                <tr><td>Profit Factor</td><td>0.76</td></tr>
                <tr><td>Sharpe Ratio</td><td>-1.96</td></tr>
                <tr><td>Sortino Ratio</td><td>-2.56</td></tr>
                <tr><td>Calmar Ratio</td><td>-1.10</td></tr>
                <tr><td>Max Drawdown</td><td class="negative">-8.96%</td></tr>
                <tr><td>Max Consecutive Wins</td><td>3</td></tr>
                <tr><td>Max Consecutive Losses</td><td>0</td></tr>
            </table>
        </div>
        
        <div class="section">
            <h2>Strategy Parameters</h2>
            <table class="summary-table">
                <tr><th>Parameter</th><th>Value</th></tr>
                <tr><td>Initial Capital</td><td>$10000.00</td></tr>
                <tr><td>Max Concurrent Trades</td><td>20</td></tr>
                <tr><td>Max Capital Usage</td><td>0.8</td></tr>
                <tr><td>Volatility Sizing</td><td>True</td></tr>
            </table>
        </div>
        
        <div class="section">
            <h2>Files Generated</h2>
            <ul>
                <li><strong>demo_backtest_trades.parquet</strong> - Raw trades data</li>
                <li><strong>demo_backtest_equity.png</strong> - Equity curve chart</li>
                <li><strong>demo_backtest_trades.png</strong> - Trade analysis charts</li>
                <li><strong>demo_backtest.html</strong> - This report</li>
            </ul>
        </div>
    </body>
    </html>
    